# Задание 1

import datetime

# Словарь соответствий между названием газеты и форматом даты
DATE_FORMATS = {
    'The Moscow Times': "%A, %B %d, %Y",
    'The Guardian': "%A, %d.%m.%y",
    'Daily News': "%A, %d %B %Y"
}

def convert_to_datetime_format(newspaper_name, date_string):
    """
    Возвращает подходящий формат даты для конвертации в объект datetime 
    исходя из названия газеты.
    """
    format = DATE_FORMATS.get(newspaper_name)
    if not format:
        raise ValueError(f"No format found for newspaper '{newspaper_name}'")
    return format

# Примеры использования
dates = [
    ('The Moscow Times', 'Wednesday, October 2, 2002'),
    ('The Guardian', 'Friday, 11.10.13'),
    ('Daily News', 'Thursday, 18 August 1977')
]

for newspaper, date_str in dates:
    print(f"{newspaper}: {convert_to_datetime_format(newspaper, date_str)}")

    # Задание 2

from datetime import datetime

def check_date_validity(dates):
    results = []
    
    for date_str in dates:
        try:
            # Пробуем преобразовать строку в объект datetime,
            # используя заданный формат 'YYYY-MM-DD'
            datetime.strptime(date_str, '%Y-%m-%d')
            
            # Если успешно, значит дата корректна
            results.append(True)
        
        except ValueError:
            # Если выброшено исключение ValueError, дата некорректна
            results.append(False)
    
    return results


# Проверка функции на примере потока stream
stream = ['2018-04-02', '2018-02-29', '2018-19-02']
print(check_date_validity(stream))



    # Задание 3


from datetime import datetime, timedelta

def date_range(start_date, end_date):
    """
    Возвращает список дат начиная с start_date и заканчивая end_date включительно.
    Параметры вводятся в формате YYYY-MM-DD.
    Если даты введены неправильно или start_date > end_date, возвращает пустой список.
    """
    try:
        # Конвертируем строки в объекты даты
        start = datetime.strptime(start_date, "%Y-%m-%d").date()
        end = datetime.strptime(end_date, "%Y-%m-%d").date()

        # Если начальная дата больше конечной, возвращаем пустой список
        if start > end:
            return []

        # Формируем список дат
        result = []
        current_date = start
        while current_date <= end:
            result.append(current_date.strftime("%Y-%m-%d"))
            current_date += timedelta(days=1)

        return result

    except ValueError:
        # Ошибка преобразования строки в дату
        return []

# Тестируем функцию
result = date_range('2023-01-01', '2023-01-05')
print(result)



        print(f"{newspaper:20} | {test_date:30} -> Ошибка: {e}")
